<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ù…Ù†Ø¸Ù… Ø§Ù„Ù…Ù‡Ø§Ù…</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: 'Cairo', sans-serif;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
      40% {transform: translateY(-10px);}
      60% {transform: translateY(-5px);}
    }
    
    @keyframes shake {
      0%, 100% {transform: translateX(0);}
      10%, 30%, 50%, 70%, 90% {transform: translateX(-5px);}
      20%, 40%, 60%, 80% {transform: translateX(5px);}
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-out;
    }
    
    .bounce {
      animation: bounce 0.6s;
    }
    
    .shake {
      animation: shake 0.5s;
    }
    
    .toast {
      transition: all 0.3s ease;
    }
    
    .task-row {
      transition: all 0.3s ease;
    }
    
    .completed {
      text-decoration: line-through;
      opacity: 0.7;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-green-100 to-yellow-100 min-h-screen p-4">
  <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
  <div id="toastContainer" class="fixed top-4 right-4 z-50 space-y-2 max-w-xs"></div>

  <h1 class="text-3xl text-center font-bold mb-6 text-green-800 drop-shadow">Ù…Ù†Ø¸Ù… Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„Ù…Ø²Ø±Ø¹Ø©</h1>

  <!-- Ø£ØµÙˆØ§Øª -->
  <audio id="completeSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_5d60b02f83.mp3"></audio>
  <audio id="buySound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_72998c3d96.mp3"></audio>
  <audio id="errorSound" src="https://cdn.pixabay.com/audio/2022/03/19/audio_7b607d7130.mp3"></audio>

  <!-- Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© -->
  <div class="bg-white p-4 rounded-lg shadow-md max-w-md mx-auto fade-in">
    <input type="text" id="taskName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù‡Ù…Ø©" class="w-full p-3 border rounded-lg mb-3 focus:ring-2 focus:ring-green-500 focus:outline-none transition" />
    <input type="number" id="taskTime" placeholder="Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ (Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚)" class="w-full p-3 border rounded-lg mb-3 focus:ring-2 focus:ring-green-500 focus:outline-none transition" />
    <select id="taskDifficulty" class="w-full p-3 border rounded-lg mb-3 focus:ring-2 focus:ring-green-500 focus:outline-none transition">
      <option value="1">Ø³Ù‡Ù„Ø©</option>
      <option value="2">Ø³Ù‡Ù„Ø© Ù‚Ù„ÙŠÙ„Ø§Ù‹</option>
      <option value="3">Ù…ØªÙˆØ³Ø·Ø©</option>
      <option value="4">ØµØ¹Ø¨Ø©</option>
      <option value="5">ØµØ¹Ø¨Ø© Ø¬Ø¯Ù‹Ø§</option>
    </select>
    <button onclick="addTask()" class="bg-blue-600 text-white w-full py-3 rounded-lg hover:bg-blue-700 transition flex items-center justify-center gap-2">
      <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø©
    </button>
  </div>

  <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù‡Ø§Ù… -->
  <div class="max-w-md mx-auto mt-6 fade-in">
    <h2 class="text-xl font-bold mb-3 text-green-800 flex items-center gap-2">
      <i class="fas fa-tasks"></i> Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù…
    </h2>
    <div class="bg-white shadow rounded-lg overflow-hidden">
      <table class="w-full text-right">
        <thead class="bg-green-200 text-green-800">
          <tr>
            <th class="p-3">Ø§Ù„Ù…Ù‡Ù…Ø©</th>
            <th class="p-3">Ø§Ù„ÙˆÙ‚Øª</th>
            <th class="p-3">Ø§Ù„ØµØ¹ÙˆØ¨Ø©</th>
            <th class="p-3">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</th>
          </tr>
        </thead>
        <tbody id="taskTableBody"></tbody>
      </table>
      <div id="emptyTasks" class="p-6 text-center text-gray-500 hidden">
        <i class="fas fa-inbox text-4xl mb-2"></i>
        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… Ø­Ø§Ù„ÙŠØ§Ù‹</p>
      </div>
    </div>
  </div>

  <!-- Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ø³ÙˆÙ‚ -->
  <div class="text-center mt-6 fade-in">
    <div id="scoreDisplay" class="font-semibold text-xl text-green-700 mb-4 bg-white p-3 rounded-lg shadow-md inline-block">
      <i class="fas fa-coins text-yellow-500"></i> Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score">0</span>
    </div>
    <h2 class="text-2xl font-bold mb-2 text-green-800 flex items-center justify-center gap-2">
      <i class="fas fa-shopping-cart"></i> Ø§Ù„Ø³ÙˆÙ‚
    </h2>
    <div class="bg-white p-4 rounded-lg shadow-md max-w-md mx-auto space-y-3">
      <div class="flex justify-between items-center border-b pb-3">
        <span class="flex items-center gap-2"><i class="fas fa-apple-alt"></i> Ø´Ø¬Ø±Ø© ØªÙØ§Ø­</span>
        <button onclick="buyItem('apple')" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 50
        </button>
      </div>
      <div class="flex justify-between items-center border-b pb-3">
        <span class="flex items-center gap-2"><i class="fas fa-tree"></i> Ù†Ø®Ù„Ø©</span>
        <button onclick="buyItem('palm')" class="bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 70
        </button>
      </div>
      <div class="flex justify-between items-center border-b pb-3">
        <span class="flex items-center gap-2"><i class="fas fa-tree"></i> Ø´Ø¬Ø±Ø© ØµÙ†ÙˆØ¨Ø±</span>
        <button onclick="buyItem('pine')" class="bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 100
        </button>
      </div>
      <div class="flex justify-between items-center border-b pb-3">
        <span class="flex items-center gap-2"><i class="fas fa-gem"></i> Ø°Ù‡Ø¨</span>
        <button onclick="buyItem('gold')" class="bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 120
        </button>
      </div>
      <div class="flex justify-between items-center border-b pb-3">
        <span class="flex items-center gap-2"><i class="fas fa-gem"></i> ÙØ¶Ø©</span>
        <button onclick="buyItem('silver')" class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 90
        </button>
      </div>
      <div class="flex justify-between items-center border-b pb-3">
        <span class="flex items-center gap-2"><i class="fas fa-gem"></i> ÙŠØ§Ù‚ÙˆØª</span>
        <button onclick="buyItem('sapphire')" class="bg-blue-800 text-white px-4 py-2 rounded-lg hover:bg-blue-900 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 200
        </button>
      </div>
      <div class="flex justify-between items-center">
        <span class="flex items-center gap-2"><i class="fas fa-dragon"></i> Ø­Ø¬Ø± Ø£Ø±ÙƒØ§Ù†ÙŠ</span>
        <button onclick="buyItem('arcane')" class="bg-purple-800 text-white px-4 py-2 rounded-lg hover:bg-purple-900 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 300
        </button>
      </div>
    </div>
  </div>

  <!-- Ø§Ù„Ù…Ø²Ø±Ø¹Ø© -->
  <div class="max-w-md mx-auto mt-6 fade-in">
    <h2 class="text-xl font-bold mb-3 text-green-800 flex items-center gap-2">
      <i class="fas fa-tractor"></i> Ø§Ù„Ù…Ø²Ø±Ø¹Ø©
    </h2>
    <div id="field" class="flex flex-wrap gap-3 justify-start items-center bg-white p-4 rounded-lg shadow-md min-h-[100px]"></div>
    <div id="emptyField" class="bg-white p-6 text-center text-gray-500 rounded-lg shadow-md">
      <i class="fas fa-seedling text-4xl mb-2"></i>
      <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø§Ù„Ù…Ø²Ø±Ø¹Ø© Ø¨Ø¹Ø¯</p>
    </div>
  </div>

  <!-- Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ -->
  <div class="text-center mt-6 fade-in">
    <button onclick="resetAll()" class="bg-red-600 text-white px-5 py-2.5 rounded-lg hover:bg-red-700 transition flex items-center gap-2 mx-auto">
      <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    </button>
  </div>

  <script>
    let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
    let score = parseInt(localStorage.getItem('score')) || 0;
    let items = JSON.parse(localStorage.getItem('items')) || [];

    const completeSound = document.getElementById("completeSound");
    const buySound = document.getElementById("buySound");
    const errorSound = document.getElementById("errorSound");

    // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
    function showToast(message, type = 'info') {
      const toastContainer = document.getElementById('toastContainer');
      const toast = document.createElement('div');
      
      const bgColor = type === 'error' ? 'bg-red-500' : 
                     type === 'success' ? 'bg-green-500' : 'bg-blue-500';
      
      toast.className = `${bgColor} text-white px-4 py-3 rounded-lg shadow-lg toast opacity-0 transform translate-y-2`;
      toast.innerHTML = `
        <div class="flex items-center gap-2">
          <i class="fas fa-${type === 'error' ? 'exclamation-circle' : type === 'success' ? 'check-circle' : 'info-circle'}"></i>
          <span>${message}</span>
        </div>
      `;
      
      toastContainer.appendChild(toast);
      
      // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨ØªØ­Ø±ÙŠÙƒÙ‡
      setTimeout(() => {
        toast.classList.remove('opacity-0', 'translate-y-2');
        toast.classList.add('opacity-100');
      }, 10);
      
      // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†
      setTimeout(() => {
        toast.classList.remove('opacity-100');
        toast.classList.add('opacity-0');
        setTimeout(() => {
          toastContainer.removeChild(toast);
        }, 300);
      }, 3000);
    }

    function saveAll() {
      localStorage.setItem('tasks', JSON.stringify(tasks));
      localStorage.setItem('score', score);
      localStorage.setItem('items', JSON.stringify(items));
    }

    function addTask() {
      const name = document.getElementById('taskName').value.trim();
      const time = parseInt(document.getElementById('taskTime').value);
      const difficulty = parseInt(document.getElementById('taskDifficulty').value);

      if (!name || isNaN(time) || isNaN(difficulty)) {
        showToast("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­", "error");
        document.getElementById('taskName').classList.add('shake');
        setTimeout(() => {
          document.getElementById('taskName').classList.remove('shake');
        }, 500);
        return;
      }

      tasks.push({ name, time, difficulty, completed: false });
      saveAll();
      displayTasks();
      
      // ØªÙØ±ÙŠØº Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ©
      document.getElementById('taskName').value = '';
      document.getElementById('taskTime').value = '';
      
      showToast("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­", "success");
    }

    function completeTask(index) {
      if (!tasks[index].completed) {
        tasks[index].completed = true;
        const earnedPoints = tasks[index].difficulty * 10;
        score += earnedPoints;
        completeSound.play();
        saveAll();
        displayTasks();
        updateScore();
        
        // ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ù‡Ù…Ø©
        const scoreDisplay = document.getElementById('scoreDisplay');
        scoreDisplay.classList.add('bounce');
        setTimeout(() => {
          scoreDisplay.classList.remove('bounce');
        }, 600);
        
        showToast(`Ø£Ø­Ø³Ù†Øª! Ù„Ù‚Ø¯ Ø±Ø¨Ø­Øª ${earnedPoints} Ù†Ù‚Ø·Ø©`, "success");
      }
    }

    function displayTasks() {
      const sortedTasks = tasks.filter(t => !t.completed).sort((a, b) => b.difficulty - a.difficulty || a.time - b.time);
      const tableBody = document.getElementById('taskTableBody');
      const emptyTasks = document.getElementById('emptyTasks');
      tableBody.innerHTML = '';

      if (sortedTasks.length === 0) {
        emptyTasks.classList.remove('hidden');
      } else {
        emptyTasks.classList.add('hidden');
      }

      sortedTasks.forEach((task, index) => {
        const row = document.createElement('tr');
        row.className = 'task-row border-b hover:bg-green-50 fade-in';
        row.innerHTML = `
          <td class='p-3'>${task.name}</td>
          <td class='p-3'>${task.time} Ø¯</td>
          <td class='p-3'>
            <span class="px-2 py-1 rounded-full text-xs ${getDifficultyColor(task.difficulty)}">
              ${getDifficultyText(task.difficulty)}
            </span>
          </td>
          <td class='p-3'>
            <button class='px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center gap-1' onclick="completeTask(${tasks.indexOf(task)})">
              <i class="fas fa-check"></i> Ø¥Ù†Ù‡Ø§Ø¡
            </button>
          </td>
        `;
        tableBody.appendChild(row);
      });
    }

    function getDifficultyColor(level) {
      switch(level) {
        case 1: return 'bg-green-100 text-green-800';
        case 2: return 'bg-blue-100 text-blue-800';
        case 3: return 'bg-yellow-100 text-yellow-800';
        case 4: return 'bg-orange-100 text-orange-800';
        case 5: return 'bg-red-100 text-red-800';
        default: return 'bg-gray-100 text-gray-800';
      }
    }

    function getDifficultyText(level) {
      switch(level) {
        case 1: return 'Ø³Ù‡Ù„Ø©';
        case 2: return 'Ø³Ù‡Ù„Ø© Ù‚Ù„ÙŠÙ„Ø§Ù‹';
        case 3: return 'Ù…ØªÙˆØ³Ø·Ø©';
        case 4: return 'ØµØ¹Ø¨Ø©';
        case 5: return 'ØµØ¹Ø¨Ø© Ø¬Ø¯Ù‹Ø§';
        default: return 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
      }
    }

    function updateScore() {
      document.getElementById('score').innerText = score;
    }

    function buyItem(type) {
      const prices = {
        apple: 50, palm: 70, pine: 100,
        gold: 120, silver: 90,
        sapphire: 200, arcane: 300
      };

      if (score >= prices[type]) {
        score -= prices[type];
        items.push(type);
        buySound.play();
        saveAll();
        updateScore();
        renderField();
        
        // ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¡
        const scoreDisplay = document.getElementById('scoreDisplay');
        scoreDisplay.classList.add('bounce');
        setTimeout(() => {
          scoreDisplay.classList.remove('bounce');
        }, 600);
        
        showToast("ØªÙ… Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¨Ù†Ø¬Ø§Ø­!", "success");
      } else {
        errorSound.play();
        showToast("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠÙƒ Ù…Ø§ ÙŠÙƒÙÙŠ Ù…Ù† Ø§Ù„Ù†Ù‚Ø§Ø·", "error");
        
        // ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·Ø£
        const scoreDisplay = document.getElementById('scoreDisplay');
        scoreDisplay.classList.add('shake');
        setTimeout(() => {
          scoreDisplay.classList.remove('shake');
        }, 500);
      }
    }

    function getItemLabel(type) {
      const labels = {
        apple: 'ğŸ',
        palm: 'ğŸŒ´',
        pine: 'ğŸ„',
        gold: 'â›ï¸',
        silver: 'ğŸª¨',
        sapphire: 'ğŸ’',
        arcane: 'ğŸ”®'
      };
      return labels[type] || 'â“';
    }

    function renderField() {
      const field = document.getElementById('field');
      const emptyField = document.getElementById('emptyField');
      field.innerHTML = '';
      
      if (items.length === 0) {
        emptyField.classList.remove('hidden');
        field.classList.add('hidden');
      } else {
        emptyField.classList.add('hidden');
        field.classList.remove('hidden');
        
        items.forEach(type => {
          const span = document.createElement('span');
          span.innerText = getItemLabel(type);
          span.className = 'text-3xl bounce';
          span.style.cursor = 'pointer';
          span.title = getItemName(type);
          field.appendChild(span);
        });
      }
    }
    
    function getItemName(type) {
      const names = {
        apple: 'Ø´Ø¬Ø±Ø© ØªÙØ§Ø­',
        palm: 'Ù†Ø®Ù„Ø©',
        pine: 'Ø´Ø¬Ø±Ø© ØµÙ†ÙˆØ¨Ø±',
        gold: 'Ø°Ù‡Ø¨',
        silver: 'ÙØ¶Ø©',
        sapphire: 'ÙŠØ§Ù‚ÙˆØª',
        arcane: 'Ø­Ø¬Ø± Ø£Ø±ÙƒØ§Ù†ÙŠ'
      };
      return names[type] || 'Ø¹Ù†ØµØ± ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
    }

    function resetAll() {
      if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ")) {
        localStorage.clear();
        location.reload();
      }
    }

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
    document.addEventListener('DOMContentLoaded', function() {
      displayTasks();
      renderField();
      updateScore();
      
      // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
      document.querySelectorAll('.fade-in').forEach((el, index) => {
        el.style.animationDelay = `${index * 0.1}s`;
      });
    });
  </script>
</body>
                                                             </html>      <option value="2">Ø³Ù‡Ù„Ø© Ù‚Ù„ÙŠÙ„Ø§Ù‹</option>
      <option value="3">Ù…ØªÙˆØ³Ø·Ø©</option>
      <option value="4">ØµØ¹Ø¨Ø©</option>
      <option value="5">ØµØ¹Ø¨Ø© Ø¬Ø¯Ù‹Ø§</option>
    </select>
    <button onclick="addTask()" class="bg-blue-600 text-white w-full py-3 rounded-lg hover:bg-blue-700 transition flex items-center justify-center gap-2">
      <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø©
    </button>
  </div>

  <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù‡Ø§Ù… -->
  <div class="max-w-md mx-auto mt-6 fade-in">
    <h2 class="text-xl font-bold mb-3 text-green-800 flex items-center gap-2">
      <i class="fas fa-tasks"></i> Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù…
    </h2>
    <div class="bg-white shadow rounded-lg overflow-hidden">
      <table class="w-full text-right">
        <thead class="bg-green-200 text-green-800">
          <tr>
            <th class="p-3">Ø§Ù„Ù…Ù‡Ù…Ø©</th>
            <th class="p-3">Ø§Ù„ÙˆÙ‚Øª</th>
            <th class="p-3">Ø§Ù„ØµØ¹ÙˆØ¨Ø©</th>
            <th class="p-3">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</th>
          </tr>
        </thead>
        <tbody id="taskTableBody"></tbody>
      </table>
      <div id="emptyTasks" class="p-6 text-center text-gray-500 hidden">
        <i class="fas fa-inbox text-4xl mb-2"></i>
        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… Ø­Ø§Ù„ÙŠØ§Ù‹</p>
      </div>
    </div>
  </div>

  <!-- Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ø³ÙˆÙ‚ -->
  <div class="text-center mt-6 fade-in">
    <div id="scoreDisplay" class="font-semibold text-xl text-green-700 mb-4 bg-white p-3 rounded-lg shadow-md inline-block">
      <i class="fas fa-coins text-yellow-500"></i> Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score">0</span>
    </div>
    <h2 class="text-2xl font-bold mb-2 text-green-800 flex items-center justify-center gap-2">
      <i class="fas fa-shopping-cart"></i> Ø§Ù„Ø³ÙˆÙ‚
    </h2>
    <div class="bg-white p-4 rounded-lg shadow-md max-w-md mx-auto space-y-3">
      <div class="flex justify-between items-center border-b pb-3">
        <span class="flex items-center gap-2"><i class="fas fa-apple-alt"></i> Ø´Ø¬Ø±Ø© ØªÙØ§Ø­</span>
        <button onclick="buyItem('apple')" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 50
        </button>
      </div>
      <div class="flex justify-between items-center border-b pb-3">
        <span class="flex items-center gap-2"><i class="fas fa-tree"></i> Ù†Ø®Ù„Ø©</span>
        <button onclick="buyItem('palm')" class="bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 70
        </button>
      </div>
      <div class="flex justify-between items-center border-b pb-3">
        <span class="flex items-center gap-2"><i class="fas fa-tree"></i> Ø´Ø¬Ø±Ø© ØµÙ†ÙˆØ¨Ø±</span>
        <button onclick="buyItem('pine')" class="bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 100
        </button>
      </div>
      <div class="flex justify-between items-center border-b pb-3">
        <span class="flex items-center gap-2"><i class="fas fa-gem"></i> Ø°Ù‡Ø¨</span>
        <button onclick="buyItem('gold')" class="bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 120
        </button>
      </div>
      <div class="flex justify-between items-center border-b pb-3">
        <span class="flex items-center gap-2"><i class="fas fa-gem"></i> ÙØ¶Ø©</span>
        <button onclick="buyItem('silver')" class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 90
        </button>
      </div>
      <div class="flex justify-between items-center border-b pb-3">
        <span class="flex items-center gap-2"><i class="fas fa-gem"></i> ÙŠØ§Ù‚ÙˆØª</span>
        <button onclick="buyItem('sapphire')" class="bg-blue-800 text-white px-4 py-2 rounded-lg hover:bg-blue-900 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 200
        </button>
      </div>
      <div class="flex justify-between items-center">
        <span class="flex items-center gap-2"><i class="fas fa-dragon"></i> Ø­Ø¬Ø± Ø£Ø±ÙƒØ§Ù†ÙŠ</span>
        <button onclick="buyItem('arcane')" class="bg-purple-800 text-white px-4 py-2 rounded-lg hover:bg-purple-900 transition flex items-center gap-2">
          <i class="fas fa-shopping-bag"></i> Ø´Ø±Ø§Ø¡ Ø¨Ù€ 300
        </button>
      </div>
    </div>
  </div>

  <!-- Ø§Ù„Ù…Ø²Ø±Ø¹Ø© -->
  <div class="max-w-md mx-auto mt-6 fade-in">
    <h2 class="text-xl font-bold mb-3 text-green-800 flex items-center gap-2">
      <i class="fas fa-tractor"></i> Ø§Ù„Ù…Ø²Ø±Ø¹Ø©
    </h2>
    <div id="field" class="flex flex-wrap gap-3 justify-start items-center bg-white p-4 rounded-lg shadow-md min-h-[100px]"></div>
    <div id="emptyField" class="bg-white p-6 text-center text-gray-500 rounded-lg shadow-md">
      <i class="fas fa-seedling text-4xl mb-2"></i>
      <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø§Ù„Ù…Ø²Ø±Ø¹Ø© Ø¨Ø¹Ø¯</p>
    </div>
  </div>

  <!-- Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ -->
  <div class="text-center mt-6 fade-in">
    <button onclick="resetAll()" class="bg-red-600 text-white px-5 py-2.5 rounded-lg hover:bg-red-700 transition flex items-center gap-2 mx-auto">
      <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    </button>
  </div>

  <script>
    let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
    let score = parseInt(localStorage.getItem('score')) || 0;
    let items = JSON.parse(localStorage.getItem('items')) || [];

    const completeSound = document.getElementById("completeSound");
    const buySound = document.getElementById("buySound");
    const errorSound = document.getElementById("errorSound");

    // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
    function showToast(message, type = 'info') {
      const toastContainer = document.getElementById('toastContainer');
      const toast = document.createElement('div');
      
      const bgColor = type === 'error' ? 'bg-red-500' : 
                     type === 'success' ? 'bg-green-500' : 'bg-blue-500';
      
      toast.className = `${bgColor} text-white px-4 py-3 rounded-lg shadow-lg toast opacity-0 transform translate-y-2`;
      toast.innerHTML = `
        <div class="flex items-center gap-2">
          <i class="fas fa-${type === 'error' ? 'exclamation-circle' : type === 'success' ? 'check-circle' : 'info-circle'}"></i>
          <span>${message}</span>
        </div>
      `;
      
      toastContainer.appendChild(toast);
      
      // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨ØªØ­Ø±ÙŠÙƒÙ‡
      setTimeout(() => {
        toast.classList.remove('opacity-0', 'translate-y-2');
        toast.classList.add('opacity-100');
      }, 10);
      
      // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†
      setTimeout(() => {
        toast.classList.remove('opacity-100');
        toast.classList.add('opacity-0');
        setTimeout(() => {
          toastContainer.removeChild(toast);
        }, 300);
      }, 3000);
    }

    function saveAll() {
      localStorage.setItem('tasks', JSON.stringify(tasks));
      localStorage.setItem('score', score);
      localStorage.setItem('items', JSON.stringify(items));
    }

    function addTask() {
      const name = document.getElementById('taskName').value.trim();
      const time = parseInt(document.getElementById('taskTime').value);
      const difficulty = parseInt(document.getElementById('taskDifficulty').value);

      if (!name || isNaN(time) || isNaN(difficulty)) {
        showToast("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­", "error");
        document.getElementById('taskName').classList.add('shake');
        setTimeout(() => {
          document.getElementById('taskName').classList.remove('shake');
        }, 500);
        return;
      }

      tasks.push({ name, time, difficulty, completed: false });
      saveAll();
      displayTasks();
      
      // ØªÙØ±ÙŠØº Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ©
      document.getElementById('taskName').value = '';
      document.getElementById('taskTime').value = '';
      
      showToast("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­", "success");
    }

    function completeTask(index) {
      if (!tasks[index].completed) {
        tasks[index].completed = true;
        const earnedPoints = tasks[index].difficulty * 10;
        score += earnedPoints;
        completeSound.play();
        saveAll();
        displayTasks();
        updateScore();
        
        // ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ù‡Ù…Ø©
        const scoreDisplay = document.getElementById('scoreDisplay');
        scoreDisplay.classList.add('bounce');
        setTimeout(() => {
          scoreDisplay.classList.remove('bounce');
        }, 600);
        
        showToast(`Ø£Ø­Ø³Ù†Øª! Ù„Ù‚Ø¯ Ø±Ø¨Ø­Øª ${earnedPoints} Ù†Ù‚Ø·Ø©`, "success");
      }
    }

    function displayTasks() {
      const sortedTasks = tasks.filter(t => !t.completed).sort((a, b) => b.difficulty - a.difficulty || a.time - b.time);
      const tableBody = document.getElementById('taskTableBody');
      const emptyTasks = document.getElementById('emptyTasks');
      tableBody.innerHTML = '';

      if (sortedTasks.length === 0) {
        emptyTasks.classList.remove('hidden');
      } else {
        emptyTasks.classList.add('hidden');
      }

      sortedTasks.forEach((task, index) => {
        const row = document.createElement('tr');
        row.className = 'task-row border-b hover:bg-green-50 fade-in';
        row.innerHTML = `
          <td class='p-3'>${task.name}</td>
          <td class='p-3'>${task.time} Ø¯</td>
          <td class='p-3'>
            <span class="px-2 py-1 rounded-full text-xs ${getDifficultyColor(task.difficulty)}">
              ${getDifficultyText(task.difficulty)}
            </span>
          </td>
          <td class='p-3'>
            <button class='px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center gap-1' onclick="completeTask(${tasks.indexOf(task)})">
              <i class="fas fa-check"></i> Ø¥Ù†Ù‡Ø§Ø¡
            </button>
          </td>
        `;
        tableBody.appendChild(row);
      });
    }

    function getDifficultyColor(level) {
      switch(level) {
        case 1: return 'bg-green-100 text-green-800';
        case 2: return 'bg-blue-100 text-blue-800';
        case 3: return 'bg-yellow-100 text-yellow-800';
        case 4: return 'bg-orange-100 text-orange-800';
        case 5: return 'bg-red-100 text-red-800';
        default: return 'bg-gray-100 text-gray-800';
      }
    }

    function getDifficultyText(level) {
      switch(level) {
        case 1: return 'Ø³Ù‡Ù„Ø©';
        case 2: return 'Ø³Ù‡Ù„Ø© Ù‚Ù„ÙŠÙ„Ø§Ù‹';
        case 3: return 'Ù…ØªÙˆØ³Ø·Ø©';
        case 4: return 'ØµØ¹Ø¨Ø©';
        case 5: return 'ØµØ¹Ø¨Ø© Ø¬Ø¯Ù‹Ø§';
        default: return 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
      }
    }

    function updateScore() {
      document.getElementById('score').innerText = score;
    }

    function buyItem(type) {
      const prices = {
        apple: 50, palm: 70, pine: 100,
        gold: 120, silver: 90,
        sapphire: 200, arcane: 300
      };

      if (score >= prices[type]) {
        score -= prices[type];
        items.push(type);
        buySound.play();
        saveAll();
        updateScore();
        renderField();
        
        // ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¡
        const scoreDisplay = document.getElementById('scoreDisplay');
        scoreDisplay.classList.add('bounce');
        setTimeout(() => {
          scoreDisplay.classList.remove('bounce');
        }, 600);
        
        showToast("ØªÙ… Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¨Ù†Ø¬Ø§Ø­!", "success");
      } else {
        errorSound.play();
        showToast("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠÙƒ Ù…Ø§ ÙŠÙƒÙÙŠ Ù…Ù† Ø§Ù„Ù†Ù‚Ø§Ø·", "error");
        
        // ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·Ø£
        const scoreDisplay = document.getElementById('scoreDisplay');
        scoreDisplay.classList.add('shake');
        setTimeout(() => {
          scoreDisplay.classList.remove('shake');
        }, 500);
      }
    }

    function getItemLabel(type) {
      const labels = {
        apple: 'ğŸ',
        palm: 'ğŸŒ´',
        pine: 'ğŸ„',
        gold: 'â›ï¸',
        silver: 'ğŸª¨',
        sapphire: 'ğŸ’',
        arcane: 'ğŸ”®'
      };
      return labels[type] || 'â“';
    }

    function renderField() {
      const field = document.getElementById('field');
      const emptyField = document.getElementById('emptyField');
      field.innerHTML = '';
      
      if (items.length === 0) {
        emptyField.classList.remove('hidden');
        field.classList.add('hidden');
      } else {
        emptyField.classList.add('hidden');
        field.classList.remove('hidden');
        
        items.forEach(type => {
          const span = document.createElement('span');
          span.innerText = getItemLabel(type);
          span.className = 'text-3xl bounce';
          span.style.cursor = 'pointer';
          span.title = getItemName(type);
          field.appendChild(span);
        });
      }
    }
    
    function getItemName(type) {
      const names = {
        apple: 'Ø´Ø¬Ø±Ø© ØªÙØ§Ø­',
        palm: 'Ù†Ø®Ù„Ø©',
        pine: 'Ø´Ø¬Ø±Ø© ØµÙ†ÙˆØ¨Ø±',
        gold: 'Ø°Ù‡Ø¨',
        silver: 'ÙØ¶Ø©',
        sapphire: 'ÙŠØ§Ù‚ÙˆØª',
        arcane: 'Ø­Ø¬Ø± Ø£Ø±ÙƒØ§Ù†ÙŠ'
      };
      return names[type] || 'Ø¹Ù†ØµØ± ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
    }

    function resetAll() {
      if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ")) {
        localStorage.clear();
        location.reload();
      }
    }

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
    document.addEventListener('DOMContentLoaded', function() {
      displayTasks();
      renderField();
      updateScore();
      
      // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
      document.querySelectorAll('.fade-in').forEach((el, index) => {
        el.style.animationDelay = `${index * 0.1}s`;
      });
    });
  </script>
</body>
                                           </html>
